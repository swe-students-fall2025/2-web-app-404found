{% extends "base.html" %} {% block container %}

<h2>My Posts</h2>

{% if posts %}
<div class="post-wrapper">
  {% for p in posts %}
  <div class="post-card">
    <h3>
      <a class="title" href="{{ url_for('post_detail', pid=p._id) }}">
        {{ p.title }}
      </a>
    </h3>
    <p class="content">{{ p.message }}</p>
    <div class="meta">
      Posted by <strong>{{ p.name }}</strong>
      {% if p.created_at %} on {{ p.created_at.strftime("%Y-%m-%d %H:%M") }} {%
      endif %}
    </div>

    <div class="actions" style="margin-top: 10px">
      <a class="btn" href="{{ url_for('edit_post', pid=p._id) }}">Edit</a>
      <form
        method="POST"
        action="{{ url_for('delete_post', pid=p._id) }}"
        onsubmit="return confirm('Delete this post?');"
        style="display: inline"
      >
        <button class="btn danger" type="submit">Delete</button>
      </form>
    </div>
  </div>
  {% endfor %}
</div>
{% else %}
<p>You havenâ€™t posted anything yet.</p>
{% endif %} {% endblock %}
